---
title: Ubuntu Installation
description: Install and run a Quai Network GPU miner on Ubuntu.
---

<Warning>
	Running a GPU miner on an Ubuntu based Virtual Machine may not work properly. This includes most VMs that run on top of Windows or WSL2.
</Warning>

## Introduction

Here, we'll be installing [quai-gpu-miner](https://github.com/dominant-strategies/quai-gpu-miner), the implementation of a Quai Network ProgPOW miner. This tutorial will focus on installing and running quai-gpu-miner on [Ubuntu](https://ubuntu.com/), an enterprise and open source Linux distribution.

<Warning>
	Be sure to **keep the private keys of the accounts you mine into**. Signing a message from the accounts you mine into will be required to
	claim Mainnet rewards.
</Warning>

### Requirements

In order to run the quai-gpu-miner on Ubuntu and mine valid blocks, you'll need the following:

<CardGroup cols={3}>
	<Card
		title='Synced go-quai node'
		href='/guides/client/node'
		icon='computer'
	/>
	<Card
		title=' configured Stratum proxy'
		href='/guides/client/stratum'
		icon='router'
	/>
	<Card
		title='Ubuntu machine'
		icon='ubuntu'
	/>
	<Card
		title='AMD or NVIDIA GPU'
		icon='microchip'
	/>
	<Card
		title='4GB+ of RAM'
		icon='usb-drive'
	/>
</CardGroup>

## Environment Setup

### Ubuntu

To run the quai-gpu-miner, you'll first need to install and configure Ubuntu. Instructions on how to download and install Ubuntu on your machine can be found on the [Ubuntu installation instructions](https://ubuntu.com/tutorials/install-ubuntu-desktop#1-overview).

### Dependencies and Drivers

Prior to installing any dependencies, you'll first want to make sure the system is up to date. We can do this by running:

```bash
sudo apt update && sudo apt upgrade -y
```

Install NVIDIA drivers:

```bash
# if you're running on a non-server OS
sudo apt install nvidia-driver-535

# if you're running on a server OS
sudo apt install nvidia-driver-535-server
```

Install CUDA toolkit:

```bash
wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/cuda-keyring_1.1-1_all.deb
sudo dpkg -i cuda-keyring_1.1-1_all.deb
sudo apt update && sudo apt install -y cuda-toolkit-12-6
```

## Installation

Now that all of our dependencies are installed, we can install quai-gpu-miner. There are two options for installation:

- Install [pre-compiled binaries](https://github.com/dominant-strategies/quai-gpu-miner/releases)
- Compile and install from source via [automated script](https://github.com/dominant-strategies/quai-gpu-miner/blob/main/miner_deploy.sh)

<Tabs>
  <Tab title="Pre-compiled Binaries">
    <Tip>
      Installing the GPU miner via pre-compiled binaries is recommended for vast majority of users. It is the simplest and fastest way to get started mining.
    </Tip>

    The latest release of quai-gpu-miner is available for download from the [GPU miner releases page](https://github.com/dominant-strategies/quai-gpu-miner/releases).

    To download the binaries for the latest release into the `output` directory, run the following command:

    ```bash
    sudo wget -P output https://github.com/dominant-strategies/quai-gpu-miner/releases/latest/download/quai-gpu-miner
    ```

    This will create a built `quai-gpu-miner` file in the `output` directory. Make `quai-gpu-miner` executable by running:

    ```bash
    chmod +x output/quai-gpu-miner
    ```

  </Tab>
  <Tab title="Compile from Source">
    <Warning>
      Compiling from source may take a while to complete, and will require about 10gb of RAM. If your machine does not have the required RAM, it is recommend to install via pre-compiled binaries.
    </Warning>

     The [quai-gpu-miner](https://github.com/dominant-strategies/quai-gpu-miner) repository contains a [automated script](https://github.com/dominant-strategies/quai-gpu-miner/blob/main/miner_deploy.sh) that can be used to compile and configure the miner.

     To download the script, run the following command:

     ```bash
     wget https://raw.githubusercontent.com/dominant-strategies/quai-gpu-miner/refs/heads/main/miner_deploy.sh
     ```

     This script will install the following build dependencies and build the latest version of the miner:

     - `git`
     - `cmake`
     - `build-essential`
     - `mesa-common-dev`
     - [Nvidia CUDA Toolkit v12.6](https://developer.nvidia.com/cuda-12-6-0-download-archive)

     Make the `miner_deploy.sh` file executable:

     ```bash
     chmod +x miner_deploy.sh
     ```

     To compile and configure the miner, run the script with the following command:

     ```bash
     sudo ./miner_deploy.sh
     ```

     This will create an `output` directory with the built `quai-gpu-miner` binary in it. Make the `quai-gpu-miner` file executable:

     ```bash
     chmod +x output/quai-gpu-miner
     ```

  </Tab>
</Tabs>

## Configure And Run

To run the miner, you'll need a quai-stratum-proxy to connect to. Visit the [quai-stratum-proxy](/guides/client/stratum) docs for information on how to install and configure it. The proxy configuration will determine which shard your gpu-miner is running on and the address payouts are awarded to.

First, you'll need to obtain the IP Address and port your proxy is running on. The default port is `3333`.

Once you've obtained the IP Address and port, run the miner with the following command, making sure to replace `PROXYIPADDRESS` with the IP Address and `STRATUMPORT` with the port your proxy is running on:

<Note>
If your Stratum and Miner are on the same machine, you can use `localhost:3333 in the command (assuming you are using the default ports).
If your Stratum and Miner are on different machines but on the same network, use your local IP address in the command.
If your Stratum and Miner are on different machines and networks, you will need the to use an external IP address in the command.
</Note>


<Tabs>
  <Tab title="CUDA">
  ```bash
  ./output/quai-gpu-miner -U -P stratum://PROXYIPADDRESS:STRATUMPORT
  ```

  </Tab>
  <Tab title="OpenCL">
  ```bash
  ./output/quai-gpu-miner -G -P stratum://PROXYIPADDRESS:STRATUMPORT
  ```
  
  </Tab>
</Tabs>

The quai-gpu-miner should now be running and outputting logs to the terminal.

<Warning>
	Do not start the miner before confirming your node has fully synced. Mining while your node is not synced will result in the mining of
	**invalid blocks** and **wasted hash**.
</Warning>

### Stop

To stop the miner, simple use **CTRL+C** to kill the terminal process. Once logs are no longer being outputted to the terminal, the miner has stopped.
