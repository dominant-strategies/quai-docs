---
title: 概述
description: Quai Network 分片间互操作性规范。
---

## 一个网络，多条链

在传统的区块链系统中，在链之间转移资产需要复杂的桥接、可信中介和重大风险。用户经常需要等待数小时或数天完成跨链转账，支付高额费用，同时担心资金被卡住或丢失。Quai Network 从根本上重新构想了区块链之间的通信方式。

想象一下，您在不同国家拥有银行账户，但可以在它们之间即时转账，无需任何中介、外汇兑换台或电汇延迟。这就是 Quai 原生互操作性所实现的——每个区域都可以与其他任何区域无缝通信，就像它们都是同一个系统的一部分（因为它们确实是）。

**传统多链的问题：**
传统区块链网络作为孤立的岛屿运行。当您需要在链之间转移资产时，通常依赖于：
- 拥有可信操作员的第三方桥接
- 可能失去锚定的包装代币
- 复杂的多重签名方案
- 跨多个网络的缓慢确认时间

**Quai 的原生解决方案：**
Quai 不是将互操作性作为后续添加的功能——它内置于核心协议中。通过[外部交易（ETXs）](/cn/learn/advanced-introduction/interoperability/etxs)，资产使用保持所有链同步的相同[哈希链接引用](/cn/learn/advanced-introduction/merged-mining/coincident-blocks)在区域之间移动。这意味着跨链转账与常规交易一样安全可靠。

**实际好处：**
- **无桥接风险**：纯数学确保安全性，而非委员会或验证者
- **原子转账**：交易要么完全完成，要么完全不执行——资金永不卡住
- **原生速度**：跨链转账在几分钟内完成，而非数小时或数天
- **通用应用程序**：智能合约可以在所有区域无缝运行

**内置安全性：**
分层结构确保所有链的完全一致性。如果任何链经历重组（极其罕见），所有下级链会自动调整以维护网络范围的共识。这种原子行为使双花攻击变得不可能，即使在跨链情况下也是如此。

## 外部交易（ETXs）

外部交易代表区块链互操作性的突破。与依赖外部验证者、预言机或桥接操作员的传统跨链方法不同，ETXs 使用保护网络的相同挖矿过程来促进跨链转账。这种优雅的解决方案消除了对任何可信第三方的需求。

将 ETXs 想象成通过具有完美跟踪功能的邮政系统发送包裹。您的包裹（交易）从您当地的邮局（原始区域）传输到区域中心（主导链），然后回到收件人的当地邮局（目标区域）。不同之处在于，整个过程在密码学上得到保证，并在几分钟内完成，而非数天。

**ETXs 如何工作：**
每个 ETX 都遵循通过 Quai 层次结构的可预测路径。交易从原始区域开始，传输到共享的主导链（区域链或主链），然后下降到目标区域。这种路由是自动的，不需要用户干预——您只需指定目标地址，网络处理其余部分。

**两种类型的 ETXs：**
1. **账户发起的**：普通用户跨链发送资产
2. **合约发起的**：智能合约触发跨链操作

[新 EVM 操作码](/cn/build/smart-contracts/opcode-additions)的添加使智能合约能够跨链无缝交互，为不局限于单个区域的真正分布式应用程序开辟了可能性。

## 多链合约

传统区块链应用程序被困在单链上，迫使用户桥接资产只是为了与不同协议交互。这种碎片化创造了糟糕的用户体验，并限制了去中心化应用程序的潜力。Quai 的多链合约系统完全改变了这种范式。

想象一个去中心化交易所，它不局限于一个区块链，而是在整个网络中无缝运行。任何区域的用户都可以与来自任何其他区域的流动性进行交易，所有这些都通过相同的界面。这不是科幻小说——这是 Quai 架构今天所实现的。

**多链合约如何工作：**
部署在不同 Quai 链上的合约可以相互链接以共享状态和功能。这创建了一个跨越整个网络的统一应用程序层。项目不再需要选择部署在哪条链上或维护单独的部署——它们可以创建从网络中任何地方都可访问的真正全球应用程序。

**真实示例：**
Cyprus-1 中的用户可以直接调用部署在 Paxos-2 的合约上的函数。如果这是一个代币铸造函数，新铸造的代币可以自动发送回用户的 Cyprus-1 地址。整个交互无缝进行，就像用户和合约都在同一条链上一样。

**对开发者的好处：**
- 部署一次，随处可访问
- 所有区域的统一流动性
- 无需维护多个部署
- 降低复杂性和运营开销

## 原子性

在传统跨链系统中，交易可能中途失败，导致资金卡在中间状态或在链之间创建不一致状态。这种部分失败问题自区块链互操作性诞生以来就一直困扰着它。Quai 通过保证原子性解决了这个根本问题。

原子性是 Quai 互操作性的关键原则。原子过程是要么完全完成要么完全不发生的过程——没有中间状态。将其想象成自动售货机：要么您得到零食且机器收取您的钱，要么什么都不发生。您永远不会遇到机器拿走您的钱却不给您产品的情况。

**Quai 中原子性如何工作：**
PoEM 共识机制确保网络中的所有链完美协调地向前移动（如有必要，回滚）。这意味着即使复杂的跨链操作也保持原子性。如果多链交易的任何部分失败，整个操作会在所有受影响的链上被逆转。

**为什么这很重要：**
- **无卡住资金**：交易要么完成，要么资金返回发送者
- **一致状态**：所有链始终对当前状态达成一致
- **无信任操作**：无需信任桥接会完成您的转账
- **简化开发**：开发者可以构建复杂的跨链逻辑，而不必担心部分失败

这种原子保证扩展到 Quai 中的一切——简单转账、复杂智能合约交互，甚至多链合约调用。这是使 Quai 互操作性真正可靠的基础。