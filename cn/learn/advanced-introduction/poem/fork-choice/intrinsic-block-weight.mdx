---
title: 内在区块权重
description: 区块如何在 Quai Network 中被测量和比较
---

## "足够好"的问题

传统工作量证明问一个简单问题："这个区块是否满足最小难度要求？"如果是，区块被认为有效。如果不是，它被拒绝。

**问题**：这忽略了实际完成的工作。想象两个学生参加考试：
- 学生 A 得分 85%
- 学生 B 得分 95%
- 两者都通过了80%的要求，但学生 B 显然做了更多工作

传统 PoW 一旦区块通过阈值就将其视为"同等有效"。PoEM 认识到一个区块总是比另一个代表更多工作。

## 什么是内在区块权重？

**内在区块权重**就像一个"工作证书" - 它精确测量创建特定区块投入了多少计算工作。

将其想象为：
- **及格/不及格评分**（传统 PoW）："你达到最低要求了吗？"
- **精确评分**（PoEM）："你到底做得有多好？"

这种精度允许 PoEM 对哪个区块代表最多工作并应该被网络接受做出即时、客观的决定。

## 实际工作原理

当矿工创建区块时，他们本质上是在解决一个数学谜题。他们找到的"答案"（区块哈希）准确告诉我们他们做了多少工作：

**传统 PoW 逻辑：**
- 区块哈希以16个零开头？✅ 有效
- 区块哈希以15个零开头？❌ 无效
- 所有有效区块被同等对待

**PoEM 逻辑：**
- 区块 A 哈希：`0x0000b9c86d37...` → 16.462525964 位工作
- 区块 B 哈希：`0x0000b9c86d30...` → 16.462525967 位工作
- 区块 B 代表更多工作 → 区块 B 获胜

这种测量给 PoEM 带来几个优势：

**即时决定：**
- 无需等待看哪条链变得更长
- 每个节点立即做出相同选择
- 没有在竞争链上浪费挖矿算力

**完美公平：**
- 最多工作总是获胜
- 分叉解决中没有随机性
- 矿工按完成的工作比例获得奖励

**可扩展性：**
- 可以协调无限的并行链
- 每条链使用相同的客观测量
- 链之间没有协调开销

<Frame>
	<img src='/images/PoEMHashOverview.jpg' />
</Frame>

## 测量背后的数学

对于那些对技术细节感兴趣的人，这里是内在区块权重的计算方法：

**简单解释：**
哈希拥有的前导零越多，它代表的工作越多。PoEM 使用对数精确测量这一点，以获得确切的"工作分数"。

**公式：**
```
完成的工作 = 总哈希长度 - log₂(区块哈希值)
```

**真实示例：**
- 哈希：`0x0000b9c86d37...`
- 这给我们：256 - log₂(0x0000b9c86d37...) = 16.462525964 位工作

**为什么这有效：**
- 找到具有更多前导零的哈希需要指数级更多尝试
- 对数将这种指数关系转换为线性测量
- 这给我们每个区块的精确"难度分数"

<Note>
确切的数学计算确保即使工作中的微小差异也可以在整个网络中客观地测量和比较。
</Note>