---
title: 更快终结性
description: 交易如何在 Quai Network 中实现终结性
---

## 什么是终结性？

当你发送一笔交易时，你需要等待多长时间才能确信它不会被逆转？这个等待时间称为**终结性**。

**两种终结性类型：**

1. **统计终结性**：你的交易永久记录的数学确定性（假设没有51%攻击）
2. **经济终结性**：逆转你交易的成本超过任何攻击者的收益

**更快终结性的重要性：**
- **更好的用户体验**：无需等待比特币10+分钟的确认
- **支持商业**：商家可以即时接受付款
- **减少不确定性**：明确交易何时真正最终确定

## 挑战：Quai 的多链架构

Quai Network 使用区块链层次结构：
- **Prime 链**：主要协调链（较慢，更安全）
- **Region 链**：区域协调链
- **Zone 链**：个人交易链（更快，用户交互的地方）

**问题**：在传统系统中，快速链（zone）上的交易直到慢速链（prime）确认后才最终确定。这造成了不确定性。

## 扣留攻击问题

**什么是扣留攻击？**
想象一个矿工找到了一个有效区块但不立即广播它。相反，他们保留它，而其他矿工在之前的区块上浪费能源。

**在单链中（如比特币）：**
- 攻击者保留一个区块约10分钟
- 影响很小，因为区块之间没有交易处理
- 最终另一个矿工找到一个区块，使被扣留的区块变得毫无价值

**在多链系统中（传统方法）：**
- Zone 链持续处理交易
- 但这些交易直到 prime 链确认后才最终确定
- 攻击者可能扣留一个 prime 区块，使 zone 交易保持不确定状态
- 比单链攻击更具破坏性

## PoEM 的解决方案：自下而上的终结性

**传统层次结构（自上而下）：**
- Prime 链领导，zone 链跟随
- Zone 交易等待 prime 确认
- 容易受到 prime 链扣留攻击

**PoEM 层次结构（自下而上）：**
- Zone 链可以独立实现终结性
- Prime 链跟随 zone 链熵累积
- 扣留攻击变得无效

**工作原理：**
- Zone 链比 prime 链更快地移除熵（由于更高的频率）
- 即使是"最幸运"的 prime 区块也无法长期胜过 zone 链累积
- 交易在秒内实现终结性，而不是分钟内

## 终结性比较

| 系统 | 统计终结性时间 | 方法 |
|-----|---------------|------|
| **比特币** | 10+ 分钟（1个区块） | 等待最长链 |
| **以太坊** | 12+ 分钟（2个纪元） | 等待2/3验证者批准 |
| **Quai PoEM** | ~5 秒（1个zone区块） | 熵累积测量 |

**PoEM 更快的原因：**
- **客观测量**：熵在数学上是稀缺的，不是主观的
- **独立链**：Zone 终结性不依赖于 prime 区块
- **精确计算**：测量确切的工作量，而不是任意阈值

了解更多关于此计算的[数学细节](/cn/learn/advanced-introduction/poem/finality/statistical-finality)。

<Frame>
	<img src='/images/WithholdingAttack.jpg' />
</Frame>

## 经济终结性：现实世界安全

**什么是经济终结性？**
逆转你的交易对攻击者的成本超过他们可能获得的收益的点。

**现实世界例子：**
- **咖啡购买（$5）**：几乎立即在经济上最终确定
- **汽车购买（$50,000）**：可能需要30+分钟才能获得完全经济安全
- **房屋购买（$500,000）**：可能需要数小时的确认

**影响经济终结性的因素：**
- **交易价值**：价值越高=需要的等待时间越长
- **网络算力**：矿工越多=安全性越好=终结性越快
- **待处理交易**：网络拥堵影响攻击成本
- **市场条件**：代币价格波动影响攻击经济学

## 内置经济终结性工具

Quai Network 包含一个智能终结性计算器，它：

**分析网络条件：**
- 当前算力和挖矿分布
- 待处理交易量和费用
- 历史攻击成本和模式

**提供定制建议：**
- 小额交易的即时决定
- 大额转账的精确等待时间
- 随条件变化的实时更新

**用例：**
- **商家**：确切知道何时付款是安全的
- **交易所**：在保持安全的同时最小化存款等待时间
- **用户**：了解其交易的安全级别

<Note>
经济终结性是动态的 - 相同的交易可能需要不同的等待时间，这取决于当前的网络条件和市场因素。
</Note>